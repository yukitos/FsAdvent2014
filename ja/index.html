<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>F# Project Scaffoldを使ってプロジェクトを作成する
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="F# Advent Calendar 2014 project"/>
    <meta name="author" content="yukitos"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link type="text/css" rel="stylesheet" href="/FsAdvent2014/content/style.css" />
    <link type="text/css" rel="stylesheet" href="/FsAdvent2014/content/project.css" />
    <script type="text/javascript" src="/FsAdvent2014/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://fsharp.org">fsharp.org</a></li>
          <li><a href="http://github.com/yukitos/FsAdvent2014">github page</a></li>
        </ul>
        <h3 class="muted"><a href="/FsAdvent2014/index.html">FsAdvent2014</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1>F# Project Scaffoldを使ってプロジェクトを作成する</h1>

<p>この記事は<a href="http://connpass.com/event/9758/">F# Advent Calendar 2014</a>の4日目です。</p>

<p>前回はotfさんによる<a href="http://otf.hateblo.jp/entry/2014/12/02/221037">ApiaryProviderで大マッシュアップ時代を生き抜く</a>でした。</p>

<p>さてここではタイトルの通り、<a href="https://github.com/fsprojects/ProjectScaffold">F# Project Scaffold</a>を使って
プロジェクトをセットアップしてみましたという話をしたいと思います。</p>

<h2><a href="https://github.com/fsprojects/ProjectScaffold">F# Project Scaffold</a> を入手する</h2>

<p><a href="https://github.com/fsprojects/ProjectScaffold">F# Project Scaffold</a>のページによると、
まずはプロジェクトを複製するか、ProjectScaffoldレポジトリを
各々のレポジトリにコピーしなさいと書かれています。
しかし今回は手っ取り早くGitHubのページから
<a href="https://github.com/fsprojects/ProjectScaffold/archive/master.zip">ZIPファイルをダウンロード</a>して、
それを展開して使います。</p>

<p>ちなみに想定する環境はWindowsです。
Monoな環境はわからないので誰か他の人にお任せします。</p>

<p>展開先ですが、<strong><em>ディレクトリの浅い位置</em></strong> に展開してください。
たとえば<code>C:\gh</code>に<code>MyProject</code>というフォルダ名で展開します。
<code>C:\gh\MyProject\build.cmd</code>といった具合にファイルが配置されることとします。</p>

<p>もしディレクトリの深い位置に展開してしまうとプロジェクトのビルドに失敗します。
具体的にはNuGetのパッケージを取得後に展開する段階で</p>

<blockquote>
  <p>パスの一部が見つかりません</p>
</blockquote>

<p>という何を言っているのかわからないエラーに遭遇することになります。
最近のNuGetパッケージはそういう作りなのか、
何故かパッケージ(nupkgでしたっけ？実際は単なるzipファイル)の中に
URLエンコードされたらしいやたらと長いフォルダ名があるのが原因に見えますが果たして。</p>

<h2>プロジェクトの初期設定</h2>

<p>展開したファイルを使ってプロジェクトの初期設定をします。
既にこの時点で展開先のフォルダをエクスプローラーで開いていると思うので、
アドレスバーに<code>cmd</code>と入力してエンターを押してコマンドプロンプトを立ち上げます。
エクスプローラーが既に居なくなっている場合には
普通にコマンドプロンプトを立ち上げて展開先のフォルダに移動します。</p>

<p>そしておもむろに以下のコマンドを実行します：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="i">build</span><span class="o">.</span><span class="i">cmd</span></pre>
</td>
</tr>
</table>

<p>そうするとこれから作成するプロジェクトに関していくつか質問されるので、
それに答えて初期設定をします。
質問内容と対訳、入力例は以下の通りです：</p>

<table>
<thead>
<tr class="header">
<th align="left"><p>質問(原文)</p></th>
<th align="left"><p>質問(対訳)</p></th>
<th align="left"><p>入力例</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><p>Project Name (used for solution/project files)</p></td>
<td align="left"><p>プロジェクト名(ソリューションとプロジェクトファイル名に使用されます)</p></td>
<td align="left"><p>MyProj</p></td>
</tr>
<tr class="even">
<td align="left"><p>Summary (a short description)</p></td>
<td align="left"><p>要約(短い説明文)</p></td>
<td align="left"><p>My first project.</p></td>
</tr>
<tr class="odd">
<td align="left"><p>Description (longer description used by NuGet)</p></td>
<td align="left"><p>説明(NuGetで使われる長めの説明文)</p></td>
<td align="left"><p>My first project created with using F# Project Scaffold.</p></td>
</tr>
<tr class="even">
<td align="left"><p>Author</p></td>
<td align="left"><p>作者</p></td>
<td align="left"><p>Anonymous</p></td>
</tr>
<tr class="odd">
<td align="left"><p>Tags (separated by spaces)</p></td>
<td align="left"><p>タグ(半角スペース区切り)</p></td>
<td align="left"><p>Sample F# Scaffold</p></td>
</tr>
<tr class="even">
<td align="left"><p>Github User or Organization</p></td>
<td align="left"><p>GitHubのユーザ名または組織名</p></td>
<td align="left"><p>anonymous</p></td>
</tr>
<tr class="odd">
<td align="left"><p>Github Project Name (leave blank to use Project Name)</p></td>
<td align="left"><p>GitHubのプロジェクト名(空の場合はプロジェクト名)</p></td>
<td align="left"><p>(空のまま)</p></td>
</tr>
</tbody>
</table>


<p>GitHubのプロジェクト名まで入力が終わるとそのままプロジェクトのビルドが走ります。
あとはこのままソリューションファイルを開いてコードを作成すればいいんですが、
今回はさらに英語と日本語のドキュメントを用意するところまで頑張ってみたいと思います。</p>

<h2>日本語ドキュメントの追加</h2>

<p>なにはともあれ、日本語ドキュメントの対象になるfsxファイルを用意します。</p>

<p>今更の説明ですが、<a href="https://github.com/fsprojects/ProjectScaffold">F# Project Scaffold</a> は
標準でドキュメントの作成機能が備わっていて、
<code>docs/content</code> フォルダ以下に<code>.fsx</code>または<code>.md</code>ファイルを置いておくと
<a href="https://github.com/tpetricek/FSharp.Formatting">F# Formatting</a> の力を借りてこれらのファイルを
htmlファイルに変換してくれます。
変換後のファイルは<code>docs/output</code>フォルダ以下に出力されます。
さらに、プロジェクト内のコードにXMLドキュメントコメントを追加しておけば、
作成したプロジェクト内のAPIリファレンスドキュメントも自動的に生成してくれます。</p>

<p>そういうわけなので、<code>docs/content/index.fsx</code> を
<code>docs/content/ja/index.fsx</code> にコピーして、
中身もそれとわかるように少し書き換えておきます。</p>

<h3>日本語ファイル用テンプレートの追加</h3>

<p>次に日本語ファイル用のテンプレートが必要です。
既にあるものをそのまま使っても問題ないのですが、
昨今は多言語対応が求められる時代ですので、
元のテンプレートは英語用にして、
日本語用には別にきちんと用意しておくにこしたことはないでしょう。</p>

<p><code>docs/tools/templates/template.cshtml</code> を
<code>docs/tools/templates/ja/template.cshtml</code> にコピーします。</p>

<p>ここでもやはりそれとわかるようにファイルを編集しておくとよいです。</p>

<h3>ドキュメント生成スクリプトの編集</h3>

<p>テンプレートファイルを用意しただけでは誰もそれを使ってくれないので、
ドキュメント生成スクリプトを編集して、
日本語ファイルには日本語テンプレートが使われるようにします。</p>

<p><code>docs/tools/generate.fsx</code> を以下のように書き換えます：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
<span class="l">29: </span>
<span class="l">30: </span>
<span class="l">31: </span>
<span class="l">32: </span>
<span class="l">33: </span>
<span class="l">34: </span>
<span class="l">35: </span>
<span class="l">36: </span>
<span class="l">37: </span>
<span class="l">38: </span>
<span class="l">39: </span>
<span class="l">40: </span>
<span class="l">41: </span>
<span class="l">42: </span>
<span class="l">43: </span>
<span class="l">44: </span>
<span class="l">45: </span>
<span class="l">46: </span>
<span class="l">47: </span>
<span class="l">48: </span>
<span class="l">49: </span>
<span class="l">50: </span>
<span class="l">51: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
(<span class="i">前略</span>)

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">docTemplate</span> <span class="o">=</span> <span class="i">formatting</span> <span class="o">@@</span> <span class="s">&quot;</span><span class="s">templates</span><span class="s">/</span><span class="s">docpage</span><span class="s">.</span><span class="s">cshtml</span><span class="s">&quot;</span>

<span class="c">// Where to look for *.csproj templates (in this order)</span>
<span class="c">// Note that the key will be the directory name of language specific contents</span>
<span class="c">// except &quot;en&quot; which is used as the default language.</span>

<span class="c">// TODO: Add new entries below when you create more language specific documents.</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="i">layoutRootsAll</span> <span class="o">=</span>
  <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="i">dict</span> [ (<span class="s">&quot;</span><span class="s">en</span><span class="s">&quot;</span>, [<span class="i">templates</span>; <span class="i">formatting</span> <span class="o">@@</span> <span class="s">&quot;</span><span class="s">templates</span><span class="s">&quot;</span>
                 <span class="i">formatting</span> <span class="o">@@</span> <span class="s">&quot;</span><span class="s">templates</span><span class="s">/</span><span class="s">reference</span><span class="s">&quot;</span>])
         (<span class="s">&quot;</span><span class="s">ja</span><span class="s">&quot;</span>, [<span class="i">templates</span> <span class="o">@@</span> <span class="s">&quot;</span><span class="s">ja</span><span class="s">&quot;</span>; <span class="i">formatting</span> <span class="o">@@</span> <span class="s">&quot;</span><span class="s">templates</span><span class="s">&quot;</span>
                 <span class="i">formatting</span> <span class="o">@@</span> <span class="s">&quot;</span><span class="s">templates</span><span class="s">/</span><span class="s">reference</span><span class="s">&quot;</span>]) ]

<span class="c">// Copy static files and CSS + JS from F# Formatting</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="i">copyFiles</span> () <span class="o">=</span>

(<span class="i">中略</span>)

<span class="c">// Build API reference from XML comments</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="i">buildReference</span> () <span class="o">=</span>
  <span class="i">CleanDir</span> (<span class="i">output</span> <span class="o">@@</span> <span class="s">&quot;</span><span class="s">reference</span><span class="s">&quot;</span>)
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs6', 6)" onmouseover="showTip(event, 'fs6', 6)" class="i">binaries</span> <span class="o">=</span>
    <span class="i">referenceBinaries</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs7', 7)" onmouseover="showTip(event, 'fs7', 7)" class="i">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs8', 8)" onmouseover="showTip(event, 'fs8', 8)" class="i">map</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs9', 9)" onmouseover="showTip(event, 'fs9', 9)" class="i">lib</span><span class="k">-&gt;</span> <span class="i">bin</span> <span class="o">@@</span> <span onmouseout="hideTip(event, 'fs9', 10)" onmouseover="showTip(event, 'fs9', 10)" class="i">lib</span>)
  <span class="c">// NOTE: Currently the API reference is available in English only.</span>
  <span class="i">MetadataFormat</span><span class="o">.</span><span class="i">Generate</span>
    ( <span onmouseout="hideTip(event, 'fs6', 11)" onmouseover="showTip(event, 'fs6', 11)" class="i">binaries</span>, <span class="i">output</span> <span class="o">@@</span> <span class="s">&quot;</span><span class="s">reference</span><span class="s">&quot;</span>, <span onmouseout="hideTip(event, 'fs2', 12)" onmouseover="showTip(event, 'fs2', 12)" class="i">layoutRootsAll</span><span class="o">.</span>[<span class="s">&quot;</span><span class="s">en</span><span class="s">&quot;</span>], 
      <span class="i">parameters</span> <span class="o">=</span> (<span class="s">&quot;</span><span class="s">root</span><span class="s">&quot;</span>, <span class="i">root</span>)<span class="o">::</span><span class="i">info</span>,
      <span class="i">sourceRepo</span> <span class="o">=</span> <span class="i">githubLink</span> <span class="o">@@</span> <span class="s">&quot;</span><span class="s">tree</span><span class="s">/</span><span class="s">master</span><span class="s">&quot;</span>,
      <span class="i">sourceFolder</span> <span class="o">=</span> <span class="k">__SOURCE_DIRECTORY__</span> <span class="o">@@</span> <span class="s">&quot;</span><span class="s">.</span><span class="s">.</span><span class="s">&quot;</span> <span class="o">@@</span> <span class="s">&quot;</span><span class="s">.</span><span class="s">.</span><span class="s">&quot;</span>,
      <span class="i">publicOnly</span> <span class="o">=</span> <span class="k">true</span>, <span class="i">libDirs</span> <span class="o">=</span> [<span class="i">bin</span>] )

<span class="c">// Build documentation from `fsx` and `md` files in `docs/content`</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs10', 13)" onmouseover="showTip(event, 'fs10', 13)" class="i">buildDocumentation</span> () <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs11', 14)" onmouseover="showTip(event, 'fs11', 14)" class="i">subdirs</span> <span class="o">=</span> <span class="i">Directory</span><span class="o">.</span><span class="i">EnumerateDirectories</span>(<span class="i">content</span>, <span class="s">&quot;</span><span class="s">*</span><span class="s">&quot;</span>, <span class="i">SearchOption</span><span class="o">.</span><span class="i">AllDirectories</span>)
  <span class="k">for</span> <span onmouseout="hideTip(event, 'fs12', 15)" onmouseover="showTip(event, 'fs12', 15)" class="i">dir</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs13', 16)" onmouseover="showTip(event, 'fs13', 16)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs14', 17)" onmouseover="showTip(event, 'fs14', 17)" class="i">append</span> [<span class="i">content</span>] <span onmouseout="hideTip(event, 'fs11', 18)" onmouseover="showTip(event, 'fs11', 18)" class="i">subdirs</span> <span class="k">do</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs15', 19)" onmouseover="showTip(event, 'fs15', 19)" class="i">sub</span> <span class="o">=</span> <span class="k">if</span> <span onmouseout="hideTip(event, 'fs12', 20)" onmouseover="showTip(event, 'fs12', 20)" class="i">dir</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs16', 21)" onmouseover="showTip(event, 'fs16', 21)" class="i">Length</span> <span class="o">&gt;</span> <span class="i">content</span><span class="o">.</span><span class="i">Length</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs12', 22)" onmouseover="showTip(event, 'fs12', 22)" class="i">dir</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs17', 23)" onmouseover="showTip(event, 'fs17', 23)" class="i">Substring</span>(<span class="i">content</span><span class="o">.</span><span class="i">Length</span> <span class="o">+</span> <span class="n">1</span>) <span class="k">else</span> <span class="s">&quot;</span><span class="s">.</span><span class="s">&quot;</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs18', 24)" onmouseover="showTip(event, 'fs18', 24)" class="i">langSpecificPath</span>(<span onmouseout="hideTip(event, 'fs19', 25)" onmouseover="showTip(event, 'fs19', 25)" class="i">lang</span>, <span onmouseout="hideTip(event, 'fs20', 26)" onmouseover="showTip(event, 'fs20', 26)" class="i">path</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs21', 27)" onmouseover="showTip(event, 'fs21', 27)" class="i">string</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs20', 28)" onmouseover="showTip(event, 'fs20', 28)" class="i">path</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs22', 29)" onmouseover="showTip(event, 'fs22', 29)" class="i">Split</span>(<span class="s">&#39;/&#39;</span>, <span class="s">&#39;\\&#39;</span>) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs23', 30)" onmouseover="showTip(event, 'fs23', 30)" class="i">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs24', 31)" onmouseover="showTip(event, 'fs24', 31)" class="i">exists</span>(<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs25', 32)" onmouseover="showTip(event, 'fs25', 32)" class="i">i</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs25', 33)" onmouseover="showTip(event, 'fs25', 33)" class="i">i</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs19', 34)" onmouseover="showTip(event, 'fs19', 34)" class="i">lang</span>)
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs26', 35)" onmouseover="showTip(event, 'fs26', 35)" class="i">layoutRoots</span> <span class="o">=</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs27', 36)" onmouseover="showTip(event, 'fs27', 36)" class="i">key</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs2', 37)" onmouseover="showTip(event, 'fs2', 37)" class="i">layoutRootsAll</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs28', 38)" onmouseover="showTip(event, 'fs28', 38)" class="i">Keys</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs13', 39)" onmouseover="showTip(event, 'fs13', 39)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs29', 40)" onmouseover="showTip(event, 'fs29', 40)" class="i">tryFind</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs25', 41)" onmouseover="showTip(event, 'fs25', 41)" class="i">i</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs18', 42)" onmouseover="showTip(event, 'fs18', 42)" class="i">langSpecificPath</span>(<span onmouseout="hideTip(event, 'fs25', 43)" onmouseover="showTip(event, 'fs25', 43)" class="i">i</span>, <span onmouseout="hideTip(event, 'fs12', 44)" onmouseover="showTip(event, 'fs12', 44)" class="i">dir</span>))
        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs27', 45)" onmouseover="showTip(event, 'fs27', 45)" class="i">key</span> <span class="k">with</span>
        | <span onmouseout="hideTip(event, 'fs30', 46)" onmouseover="showTip(event, 'fs30', 46)" class="i">Some</span> <span onmouseout="hideTip(event, 'fs31', 47)" onmouseover="showTip(event, 'fs31', 47)" class="i">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs2', 48)" onmouseover="showTip(event, 'fs2', 48)" class="i">layoutRootsAll</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs31', 49)" onmouseover="showTip(event, 'fs31', 49)" class="i">x</span>]
        | <span onmouseout="hideTip(event, 'fs32', 50)" onmouseover="showTip(event, 'fs32', 50)" class="i">None</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs2', 51)" onmouseover="showTip(event, 'fs2', 51)" class="i">layoutRootsAll</span><span class="o">.</span>[<span class="s">&quot;</span><span class="s">en</span><span class="s">&quot;</span>] <span class="c">// &quot;en&quot; is the default language</span>
    <span class="i">Literate</span><span class="o">.</span><span class="i">ProcessDirectory</span>
      ( <span onmouseout="hideTip(event, 'fs12', 52)" onmouseover="showTip(event, 'fs12', 52)" class="i">dir</span>, <span onmouseout="hideTip(event, 'fs1', 53)" onmouseover="showTip(event, 'fs1', 53)" class="i">docTemplate</span>, <span class="i">output</span> <span class="o">@@</span> <span onmouseout="hideTip(event, 'fs15', 54)" onmouseover="showTip(event, 'fs15', 54)" class="i">sub</span>, <span class="i">replacements</span> <span class="o">=</span> (<span class="s">&quot;</span><span class="s">root</span><span class="s">&quot;</span>, <span class="i">root</span>)<span class="o">::</span><span class="i">info</span>,
        <span onmouseout="hideTip(event, 'fs26', 55)" onmouseover="showTip(event, 'fs26', 55)" class="i">layoutRoots</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs26', 56)" onmouseover="showTip(event, 'fs26', 56)" class="i">layoutRoots</span> )

(<span class="i">後略</span>)</pre>
</td>
</tr>
</table>

<p>元のファイルとの差分は主にL11-L15で定義されている<code>layoutRootsAll</code>の追加です。
これはキーに言語名、値にテンプレートファイルを探す複数の場所を保持しています。
特に<code>ja</code>の方では1つめの値が<code>templates @@ "ja"</code>となっている点に注意してください。
このようにすることで、先ほど追加した日本語用のテンプレートファイルが
使われるようになります。</p>

<p>また、APIリファレンスは今のところ多言語出力出来ないので英語決め打ちにします(L30)。</p>

<p>L41のヘルパー関数はパスを区切り文字で分割した後、
その中に言語名が含まれている場合には<code>Some</code>を返します。
L43で<code>layoutRootsAll.Keys</code>のいずれかが
現在処理中のファイルパス<code>dir</code>の一部になっているかどうか調べて、
一部になっている場合はその言語用のテンプレートを、
そうでなければ英語用のテンプレートを適用されるようにしています(L45-46)。</p>

<blockquote>
  <p>ちなみにF# Dataの<code>generate.fsx</code>では<code>dir.Contains("ja")</code>ならば
日本語テンプレートを使うようになっているのですが、
これだとたまたまフォルダ名に<code>ja</code>が入っているだけで日本語テンプレートが
当たってしまうので後々まずいことになりそうな気がします :)</p>
</blockquote>

<h3>言語ページ用のリンクをメニューに追加する</h3>

<p>さてここまでで英語と日本語のページが作成できるようになったわけですが、
せっかく用意した日本語ページへのリンクも用意したいところです。</p>

<p>そこで言語毎のページへのリンクとして表示する国旗画像を追加して、
メニューバーにもリンクを追加します。</p>

<p>国旗画像はとりあえず<a href="https://github.com/fsharp/FSharp.Data">F# Data</a>のものを<del>ぱちって</del>コピーして</p>

<ul>
<li>docs/files/img/en.png</li>
<li>docs/files/img/ja.png</li>
</ul>

<p>に置きます。</p>

<p>そして各テンプレートファイルを変更します。</p>

<p><code>docs/tools/templates/template.cshtml</code> と
<code>docs/tools/templates/ja/template.cshtml</code>
にある<code>ul#menu</code>以下にリンクを追加します：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="o">&lt;</span><span class="i">li</span> <span class="k">class</span><span class="o">=</span><span class="s">&quot;</span><span class="s">nav</span><span class="s">-</span><span class="s">header</span><span class="s">&quot;</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="i">a</span> <span class="i">href</span><span class="o">=</span><span class="s">&quot;</span><span class="s">@</span><span class="s">Root</span><span class="s">/</span><span class="s">ja</span><span class="s">/</span><span class="s">index</span><span class="s">.</span><span class="s">html</span><span class="s">&quot;</span> <span class="k">class</span><span class="o">=</span><span class="s">&quot;</span><span class="s">nflag</span><span class="s">&quot;</span><span class="o">&gt;</span><span class="o">&lt;</span><span class="i">img</span> <span class="i">src</span><span class="o">=</span><span class="s">&quot;</span><span class="s">@</span><span class="s">Root</span><span class="s">/</span><span class="s">img</span><span class="s">/</span><span class="s">ja</span><span class="s">.</span><span class="s">png</span><span class="s">&quot;</span> <span class="o">/&gt;&lt;/</span><span class="i">a</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="i">a</span> <span class="i">href</span><span class="o">=</span><span class="s">&quot;</span><span class="s">@</span><span class="s">Root</span><span class="s">/</span><span class="s">index</span><span class="s">.</span><span class="s">html</span><span class="s">&quot;</span> <span class="k">class</span><span class="o">=</span><span class="s">&quot;</span><span class="s">nflag</span><span class="s"> </span><span class="s">nflag2</span><span class="s">&quot;</span><span class="o">&gt;</span><span class="o">&lt;</span><span class="i">img</span> <span class="i">src</span><span class="o">=</span><span class="s">&quot;</span><span class="s">@</span><span class="s">Root</span><span class="s">/</span><span class="s">img</span><span class="s">/</span><span class="s">en</span><span class="s">.</span><span class="s">png</span><span class="s">&quot;</span> <span class="o">/&gt;&lt;/</span><span class="i">a</span><span class="o">&gt;</span>
  <span class="o">@</span><span class="i">Properties</span>[<span class="s">&quot;</span><span class="s">project</span><span class="s">-</span><span class="s">name</span><span class="s">&quot;</span>]
<span class="o">&lt;/</span><span class="i">li</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="i">li</span> <span class="k">class</span><span class="o">=</span><span class="s">&quot;</span><span class="s">divider</span><span class="s">&quot;</span><span class="o">&gt;</span><span class="o">&lt;/</span><span class="i">li</span><span class="o">&gt;</span></pre>
</td>
</tr>
</table>

<p>これだけだと縦並びになってしまったりと都合が悪いので、
プロジェクト固有のCSSを追加して体裁を整えます。</p>

<h3>プロジェクト固有のCSSファイルの追加</h3>

<p><code>docs/files/content</code>以下にプロジェクト固有のCSSファイルを追加します。</p>

<p>たとえば<code>project.css</code>ファイルを以下の内容で追加して、
言語毎のページリンクを体裁よく表示されるようにします。</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="o">.</span><span class="i">nav</span><span class="o">-</span><span onmouseout="hideTip(event, 'fs33', 57)" onmouseover="showTip(event, 'fs33', 57)" class="i">list</span> <span class="o">&gt;</span> <span class="i">li</span> <span class="o">&gt;</span> <span class="i">a</span><span class="o">.</span><span class="i">nflag</span> {
  <span onmouseout="hideTip(event, 'fs34', 58)" onmouseover="showTip(event, 'fs34', 58)" class="i">float</span><span class="o">:</span><span class="i">right</span>;
  <span class="i">padding</span><span class="o">:</span><span class="n">0px</span>;
}
<span class="o">.</span><span class="i">nav</span><span class="o">-</span><span onmouseout="hideTip(event, 'fs33', 59)" onmouseover="showTip(event, 'fs33', 59)" class="i">list</span> <span class="o">&gt;</span> <span class="i">li</span> <span class="o">&gt;</span> <span class="i">a</span><span class="o">.</span><span class="i">nflag2</span> {
  <span class="i">margin</span><span class="o">-</span><span class="i">right</span><span class="o">:</span><span class="n">18px</span>;
}</pre>
</td>
</tr>
</table>

<p>あわせてテンプレートファイル<code>docs/tools/templates/template.cshtml</code>と
<code>docs/tools/templates/ja/template.cshtml</code>の<code>head</code>タグ内に
<code>link</code>タグを追加します。</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="o">&lt;</span><span class="i">link</span> <span class="k">type</span><span class="o">=</span><span class="s">&quot;</span><span class="s">text</span><span class="s">/</span><span class="s">css</span><span class="s">&quot;</span> <span class="i">rel</span><span class="o">=</span><span class="s">&quot;</span><span class="s">stylesheet</span><span class="s">&quot;</span> <span class="i">href</span><span class="o">=</span><span class="s">&quot;</span><span class="s">@</span><span class="s">Root</span><span class="s">/</span><span class="s">content</span><span class="s">/</span><span class="s">project</span><span class="s">.</span><span class="s">css</span><span class="s">&quot;</span> <span class="o">/&gt;</span></pre>
</td>
</tr>
</table>

<h2>ビルドスクリプトの変更</h2>

<p>以上で日英ドキュメントを作成する環境が整備できましたが、
このままビルドしてみて、<code>docs/output</code> 以下に出力されるドキュメントを開いてみても
GitHub Pages用のURLで各リンクが生成されるため、CSSなども読み込まれずひどいことになります。</p>

<p>そこでローカル環境でドキュメントをチェックできるように
プロジェクトのフォルダ直下にある<code>build.fsx</code>を以下の通り編集します。</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
<span class="l">29: </span>
<span class="l">30: </span>
<span class="l">31: </span>
<span class="l">32: </span>
<span class="l">33: </span>
<span class="l">34: </span>
<span class="l">35: </span>
<span class="l">36: </span>
<span class="l">37: </span>
<span class="l">38: </span>
<span class="l">39: </span>
<span class="l">40: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span class="i">generateHelp&#39;</span> <span class="i">fail</span> <span class="i">debug</span> <span class="o">=</span>
    <span class="k">let</span> <span class="i">args</span> <span class="o">=</span> <span class="k">if</span> <span class="i">debug</span> <span class="k">then</span> [<span class="s">&quot;</span><span class="s">-</span><span class="s">-</span><span class="s">define</span><span class="s">:</span><span class="s">HELP</span><span class="s">&quot;</span>]
               <span class="k">else</span> [<span class="s">&quot;</span><span class="s">-</span><span class="s">-</span><span class="s">define</span><span class="s">:</span><span class="s">RELEASE</span><span class="s">&quot;</span>; <span class="s">&quot;</span><span class="s">-</span><span class="s">-</span><span class="s">define</span><span class="s">:</span><span class="s">HELP</span><span class="s">&quot;</span>]
    <span class="k">if</span> <span class="i">executeFSIWithArgs</span> <span class="s">&quot;</span><span class="s">docs</span><span class="s">/</span><span class="s">tools</span><span class="s">&quot;</span> <span class="s">&quot;</span><span class="s">generate</span><span class="s">.</span><span class="s">fsx</span><span class="s">&quot;</span> <span class="i">args</span> [] <span class="k">then</span>
        <span class="i">traceImportant</span> <span class="s">&quot;</span><span class="s">Help</span><span class="s"> </span><span class="s">generated</span><span class="s">&quot;</span>
    <span class="k">else</span>
        <span class="k">if</span> <span class="i">fail</span> <span class="k">then</span>
            <span onmouseout="hideTip(event, 'fs35', 60)" onmouseover="showTip(event, 'fs35', 60)" class="i">failwith</span> <span class="s">&quot;</span><span class="s">generating</span><span class="s"> </span><span class="s">help</span><span class="s"> </span><span class="s">documentation</span><span class="s"> </span><span class="s">failed</span><span class="s">&quot;</span>
        <span class="k">else</span>
            <span class="i">traceImportant</span> <span class="s">&quot;</span><span class="s">generating</span><span class="s"> </span><span class="s">help</span><span class="s"> </span><span class="s">documentation</span><span class="s"> </span><span class="s">failed</span><span class="s">&quot;</span>

<span class="k">let</span> <span class="i">generateHelp</span> <span class="i">fail</span> <span class="o">=</span>
    <span class="i">generateHelp&#39;</span> <span class="i">fail</span> <span class="k">false</span>

<span class="i">Target</span> <span class="s">&quot;</span><span class="s">GenerateHelp</span><span class="s">&quot;</span> (<span class="k">fun</span> _ <span class="k">-&gt;</span>
    <span class="i">DeleteFile</span> <span class="s">&quot;</span><span class="s">docs</span><span class="s">/</span><span class="s">content</span><span class="s">/</span><span class="s">release</span><span class="s">-</span><span class="s">notes</span><span class="s">.</span><span class="s">md</span><span class="s">&quot;</span>    
    <span class="i">CopyFile</span> <span class="s">&quot;</span><span class="s">docs</span><span class="s">/</span><span class="s">content</span><span class="s">/</span><span class="s">&quot;</span> <span class="s">&quot;</span><span class="s">RELEASE_NOTES</span><span class="s">.</span><span class="s">md</span><span class="s">&quot;</span>
    <span class="i">Rename</span> <span class="s">&quot;</span><span class="s">docs</span><span class="s">/</span><span class="s">content</span><span class="s">/</span><span class="s">release</span><span class="s">-</span><span class="s">notes</span><span class="s">.</span><span class="s">md</span><span class="s">&quot;</span> <span class="s">&quot;</span><span class="s">docs</span><span class="s">/</span><span class="s">content</span><span class="s">/</span><span class="s">RELEASE_NOTES</span><span class="s">.</span><span class="s">md</span><span class="s">&quot;</span>

    <span class="i">DeleteFile</span> <span class="s">&quot;</span><span class="s">docs</span><span class="s">/</span><span class="s">content</span><span class="s">/</span><span class="s">license</span><span class="s">.</span><span class="s">md</span><span class="s">&quot;</span>
    <span class="i">CopyFile</span> <span class="s">&quot;</span><span class="s">docs</span><span class="s">/</span><span class="s">content</span><span class="s">/</span><span class="s">&quot;</span> <span class="s">&quot;</span><span class="s">LICENSE</span><span class="s">.</span><span class="s">txt</span><span class="s">&quot;</span>
    <span class="i">Rename</span> <span class="s">&quot;</span><span class="s">docs</span><span class="s">/</span><span class="s">content</span><span class="s">/</span><span class="s">license</span><span class="s">.</span><span class="s">md</span><span class="s">&quot;</span> <span class="s">&quot;</span><span class="s">docs</span><span class="s">/</span><span class="s">content</span><span class="s">/</span><span class="s">LICENSE</span><span class="s">.</span><span class="s">txt</span><span class="s">&quot;</span>

    <span class="i">generateHelp</span> <span class="k">true</span>
)

<span class="i">Target</span> <span class="s">&quot;</span><span class="s">GenerateHelpDebug</span><span class="s">&quot;</span> (<span class="k">fun</span> _ <span class="k">-&gt;</span>
    <span class="i">DeleteFile</span> <span class="s">&quot;</span><span class="s">docs</span><span class="s">/</span><span class="s">content</span><span class="s">/</span><span class="s">release</span><span class="s">-</span><span class="s">notes</span><span class="s">.</span><span class="s">md</span><span class="s">&quot;</span>    
    <span class="i">CopyFile</span> <span class="s">&quot;</span><span class="s">docs</span><span class="s">/</span><span class="s">content</span><span class="s">/</span><span class="s">&quot;</span> <span class="s">&quot;</span><span class="s">RELEASE_NOTES</span><span class="s">.</span><span class="s">md</span><span class="s">&quot;</span>
    <span class="i">Rename</span> <span class="s">&quot;</span><span class="s">docs</span><span class="s">/</span><span class="s">content</span><span class="s">/</span><span class="s">release</span><span class="s">-</span><span class="s">notes</span><span class="s">.</span><span class="s">md</span><span class="s">&quot;</span> <span class="s">&quot;</span><span class="s">docs</span><span class="s">/</span><span class="s">content</span><span class="s">/</span><span class="s">RELEASE_NOTES</span><span class="s">.</span><span class="s">md</span><span class="s">&quot;</span>

    <span class="i">DeleteFile</span> <span class="s">&quot;</span><span class="s">docs</span><span class="s">/</span><span class="s">content</span><span class="s">/</span><span class="s">license</span><span class="s">.</span><span class="s">md</span><span class="s">&quot;</span>
    <span class="i">CopyFile</span> <span class="s">&quot;</span><span class="s">docs</span><span class="s">/</span><span class="s">content</span><span class="s">/</span><span class="s">&quot;</span> <span class="s">&quot;</span><span class="s">LICENSE</span><span class="s">.</span><span class="s">txt</span><span class="s">&quot;</span>
    <span class="i">Rename</span> <span class="s">&quot;</span><span class="s">docs</span><span class="s">/</span><span class="s">content</span><span class="s">/</span><span class="s">license</span><span class="s">.</span><span class="s">md</span><span class="s">&quot;</span> <span class="s">&quot;</span><span class="s">docs</span><span class="s">/</span><span class="s">content</span><span class="s">/</span><span class="s">LICENSE</span><span class="s">.</span><span class="s">txt</span><span class="s">&quot;</span>

    <span class="i">generateHelp&#39;</span> <span class="k">true</span> <span class="k">true</span>
)

<span class="s">&quot;</span><span class="s">CleanDocs</span><span class="s">&quot;</span>
  <span class="o">==&gt;</span> <span class="s">&quot;</span><span class="s">GenerateHelpDebug</span><span class="s">&quot;</span></pre>
</td>
</tr>
</table>

<p>変更箇所は以下の通りです：</p>

<ul>
<li>元の<code>generateHelp</code>関数の名前を<code>generateHelp'</code>に変更。
あわせてデバッグビルドかどうかを引数に渡せるようにした。</li>
<li>ビルドターゲット<code>GenerateHelpDebug</code>を追加。</li>
<li><code>GenerateHelpDebug</code>を実行する場合には必ず<code>CleanDocs</code>を実行して、
一旦ドキュメントを全消去するようビルドチェインを作成</li>
</ul>

<p>見ての通り、デバッグ時には<code>generate.fsx</code>に<code>--define:RELEASE</code>を指定せずに実行するようになりました。</p>

<p>そしてローカル用にドキュメントをビルドする場合、以下のようにターゲットを指定して<code>build.cmd</code>を実行します：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="i">build</span><span class="o">.</span><span class="i">cmd</span> <span class="i">GenerateHelpDebug</span></pre>
</td>
</tr>
</table>

<h2>新しい言語用のドキュメントを追加する</h2>

<p>英語と日本語以外のドキュメントを追加するために必要な手順は以下の通りです：</p>

<ol>
<li><code>docs/content/&lt;lang&gt;</code> フォルダにファイルを用意する</li>
<li><code>docs/tools/templates/&lt;lang&gt;</code> フォルダに言語固有のテンプレートファイルを用意する</li>
<li><code>docs/tools/generate.fsx</code> にある <code>layoutRootsAll</code> の値を編集する</li>
</ol>

<p><code>layoutRootsAll</code> の値は</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
(<span class="s">&quot;</span><span class="s">&lt;</span><span class="s">lang</span><span class="s">&gt;</span><span class="s">&quot;</span>, [<span class="i">templates</span> <span class="o">@@</span> <span class="s">&quot;</span><span class="s">&lt;</span><span class="s">lang</span><span class="s">&gt;</span><span class="s">&quot;</span>; <span class="i">formatting</span> <span class="o">@@</span> <span class="s">&quot;</span><span class="s">templates</span><span class="s">&quot;</span>
            <span class="i">formatting</span> <span class="o">@@</span> <span class="s">&quot;</span><span class="s">templates</span><span class="s">/</span><span class="s">reference</span><span class="s">&quot;</span>])</pre>
</td>
</tr>
</table>

<p>という形式になります。</p>

<h2>終わりに</h2>

<p>お気づきかとは思いますが、以上のようにして作成したのがまさにこのページです。</p>

<p><a href="https://github.com/fsprojects/ProjectScaffold">F# Project Scaffold</a>を利用すれば
プロジェクトのビルドからドキュメントの生成まで一揃いの環境が手軽に用意できます。
F#のプロジェクトを作成する場合には、GitHub上で
プロジェクトを管理するかどうかに関わらず利用できますので
是非試してみてはいかがでしょうか。</p>

<p>あと上記で変更した多言語対応<code>generate.fsx</code>はたぶん便利なのではないかなあと思うので、
後ほどPRを投げてみようかなと目論んでいたりします。</p>

<p>次回はbleis-tiftさんよろしくお願いします。</p>

<div class="tip" id="fs1">val docTemplate : obj<br /><br />Full name: index.docTemplate</div>
<div class="tip" id="fs2">val layoutRootsAll : System.Collections.Generic.IDictionary&lt;string,obj list&gt;<br /><br />Full name: index.layoutRootsAll</div>
<div class="tip" id="fs3">val dict : keyValuePairs:seq&lt;&#39;Key * &#39;Value&gt; -&gt; System.Collections.Generic.IDictionary&lt;&#39;Key,&#39;Value&gt; (requires equality)<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.dict</div>
<div class="tip" id="fs4">val copyFiles : unit -&gt; bool<br /><br />Full name: index.copyFiles</div>
<div class="tip" id="fs5">val buildReference : (unit -&gt; &#39;a)</div>
<div class="tip" id="fs6">val binaries : &#39;_arg3 list</div>
<div class="tip" id="fs7">Multiple items<br />module List<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;| ( [] )<br />&#160;&#160;| ( :: ) of Head: &#39;T * Tail: &#39;T list<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;member Head : &#39;T<br />&#160;&#160;member IsEmpty : bool<br />&#160;&#160;member Item : index:int -&gt; &#39;T with get<br />&#160;&#160;member Length : int<br />&#160;&#160;member Tail : &#39;T list<br />&#160;&#160;static member Cons : head:&#39;T * tail:&#39;T list -&gt; &#39;T list<br />&#160;&#160;static member Empty : &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List&lt;_&gt;</div>
<div class="tip" id="fs8">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; list:&#39;T list -&gt; &#39;U list<br /><br />Full name: Microsoft.FSharp.Collections.List.map</div>
<div class="tip" id="fs9">val lib : &#39;a (requires member ( @@ ))</div>
<div class="tip" id="fs10">val buildDocumentation : (unit -&gt; unit)</div>
<div class="tip" id="fs11">val subdirs : &#39;a (requires &#39;a :&gt; seq&lt;string&gt;)</div>
<div class="tip" id="fs12">val dir : string</div>
<div class="tip" id="fs13">module Seq<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs14">val append : source1:seq&lt;&#39;T&gt; -&gt; source2:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.append</div>
<div class="tip" id="fs15">val sub : string</div>
<div class="tip" id="fs16">property System.String.Length: int</div>
<div class="tip" id="fs17">System.String.Substring(startIndex: int) : string<br />System.String.Substring(startIndex: int, length: int) : string</div>
<div class="tip" id="fs18">val langSpecificPath : (string * string -&gt; bool)</div>
<div class="tip" id="fs19">val lang : string</div>
<div class="tip" id="fs20">val path : string</div>
<div class="tip" id="fs21">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />Full name: Microsoft.FSharp.Core.Operators.string<br /><br />--------------------<br />type string = System.String<br /><br />Full name: Microsoft.FSharp.Core.string</div>
<div class="tip" id="fs22">System.String.Split(params separator: char []) : string []<br />System.String.Split(separator: string [], options: System.StringSplitOptions) : string []<br />System.String.Split(separator: char [], options: System.StringSplitOptions) : string []<br />System.String.Split(separator: char [], count: int) : string []<br />System.String.Split(separator: string [], count: int, options: System.StringSplitOptions) : string []<br />System.String.Split(separator: char [], count: int, options: System.StringSplitOptions) : string []</div>
<div class="tip" id="fs23">module Array<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs24">val exists : predicate:(&#39;T -&gt; bool) -&gt; array:&#39;T [] -&gt; bool<br /><br />Full name: Microsoft.FSharp.Collections.Array.exists</div>
<div class="tip" id="fs25">val i : string</div>
<div class="tip" id="fs26">val layoutRoots : obj list</div>
<div class="tip" id="fs27">val key : string option</div>
<div class="tip" id="fs28">property System.Collections.Generic.IDictionary.Keys: System.Collections.Generic.ICollection&lt;string&gt;</div>
<div class="tip" id="fs29">val tryFind : predicate:(&#39;T -&gt; bool) -&gt; source:seq&lt;&#39;T&gt; -&gt; &#39;T option<br /><br />Full name: Microsoft.FSharp.Collections.Seq.tryFind</div>
<div class="tip" id="fs30">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs31">val x : string</div>
<div class="tip" id="fs32">union case Option.None: Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs33">type &#39;T list = List&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.list&lt;_&gt;</div>
<div class="tip" id="fs34">Multiple items<br />val float : value:&#39;T -&gt; float (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.float<br /><br />--------------------<br />type float = System.Double<br /><br />Full name: Microsoft.FSharp.Core.float<br /><br />--------------------<br />type float&lt;&#39;Measure&gt; = float<br /><br />Full name: Microsoft.FSharp.Core.float&lt;_&gt;</div>
<div class="tip" id="fs35">val failwith : message:string -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.Operators.failwith</div>

        </div>
        <div class="span3">
          <img src="/FsAdvent2014/img/logo.png" alt="F# Project" style="width:150px;margin:10px" />  
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">
              <a href="/FsAdvent2014/ja/index.html" class="nflag"><img src="/FsAdvent2014/img/ja.png" /></a>
              <a href="/FsAdvent2014/index.html" class="nflag nflag2"><img src="/FsAdvent2014/img/en.png" /></a>
              FsAdvent2014
            </li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/yukitos/FsAdvent2014"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
  </html>
